# Gravity model estimation

```{r}
pacman::p_load(tidyverse, magrittr, here, gravity)
```

### Importing dataframes

```{r}
trade_flows <- read_csv(here("Data", "Main data frames", "trade_flows.csv"))
transaction_cost <- read_csv(here("Data", "Main data frames", "transaction_cost.csv"))
gtm_macro <- read_csv(here("Data", "Main data frames", "gtm_macro.csv"))
partners_macro <- read_csv(here("Data", "Main data frames", "partners_macro.csv"))
partners_names <- read_csv(here("Data", "Main data frames", "partners_names.csv"))
```

```{r}
gravity %>% View
```

```{r}
fit <- bvu(
    dependent_variable = "tradeflow_comtrade_o",
    distance = "distw",
    additional_regressors = c("rta", "cont"),
    income_origin = "gdp_o",
    income_destination = "gdp_d",
    code_origin = "iso3_o",
    code_destination = "iso3_d",
    data = gravity
  )
```

```{r}
summary(fit)
```
